gpuot-test
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  61.76MB
Step 1/13 : FROM nvidia/cuda:12.3.2-devel-ubuntu22.04
 ---> da3144977a75
Step 2/13 : RUN apt-get update && apt-get -y install build-essential python3 cmake git libssl-dev
 ---> Using cache
 ---> c0c6ae6145f6
Step 3/13 : WORKDIR /home/gpuot
 ---> Using cache
 ---> 7aab32305a8f
Step 4/13 : RUN mkdir result
 ---> Using cache
 ---> fe8d80fe0ee4
Step 5/13 : COPY gpu gpu
 ---> Using cache
 ---> 8f6dd372974c
Step 6/13 : WORKDIR /home/gpuot/gpu
 ---> Using cache
 ---> 88d820e7d147
Step 7/13 : RUN make -j -s
 ---> Using cache
 ---> 821700ac4511
Step 8/13 : WORKDIR /home/gpuot
 ---> Using cache
 ---> cbf82214f8d3
Step 9/13 : COPY ferret ferret
 ---> 469db4afc861
Step 10/13 : WORKDIR /home/gpuot/ferret
 ---> Running in 5371bb5cbed5
 ---> Removed intermediate container 5371bb5cbed5
 ---> 67e16a035902
Step 11/13 : RUN python3 build.py --tool --ot
 ---> Running in b3b56a3a638b
[91mCloning into 'emp-tool'...
[0m[91mCMake Warning:
  No source or binary directory provided.  Both will be assumed to be the
  same as the current working directory, but note that this warning will
  become a fatal error in future CMake releases.


[0m-- The C compiler identification is GNU 11.4.0
-- The CXX compiler identification is GNU 11.4.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- [34mBuild type: Release[m
-- CXX Flags:  -g -pthread -Wall -funroll-loops -Wno-ignored-attributes -Wno-unused-result -march=native -maes -mrdseed -std=c++11 -O3
[91m[34m-- Platform: x86_64[m
[0m-- Performing Test RDSEED_RUN_RESULT
-- Performing Test RDSEED_RUN_RESULT - Success
[91m[32m-- Source of Randomness: rdseed[m
[0m-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found version "3.0.2")  
-- Configuring done
-- Generating done
[91mCMake Warning:
  Manually-specified variables were not used by the project:

    CMAKE_CUDA_FLAGS


[0m-- Build files have been written to: /home/gpuot/ferret/emp-tool
[  2%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/emp-tool.cpp.o
[  4%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_div.cpp.o
[  6%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_add.cpp.o
[  8%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_cos.cpp.o
[ 10%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_eq.cpp.o
[ 12%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_le.cpp.o
[ 14%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_leq.cpp.o
[ 16%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_mul.cpp.o
[ 18%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_sin.cpp.o
[ 20%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_sq.cpp.o
[ 22%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_sqrt.cpp.o
[ 24%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_sub.cpp.o
[ 26%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_exp2.cpp.o
[ 28%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_exp.cpp.o
[ 30%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_ln.cpp.o
[ 32%] Building CXX object CMakeFiles/emp-tool.dir/emp-tool/circuits/float32_log2.cpp.o
[ 34%] Linking CXX shared library libemp-tool.so
[ 34%] Built target emp-tool
[ 38%] Building CXX object test/CMakeFiles/test_prg.dir/prg.cpp.o
[ 40%] Building CXX object test/CMakeFiles/test_netio.dir/netio.cpp.o
[ 42%] Building CXX object test/CMakeFiles/test_hash.dir/hash.cpp.o
[ 42%] Building CXX object test/CMakeFiles/test_prp.dir/prp.cpp.o
[ 44%] Linking CXX executable ../bin/test_hash
[ 46%] Linking CXX executable ../bin/test_prp
[ 46%] Built target test_prp
[ 46%] Built target test_hash
[ 48%] Building CXX object test/CMakeFiles/test_netio2.dir/netio2.cpp.o
[ 51%] Building CXX object test/CMakeFiles/test_bit.dir/bit.cpp.o
[91mIn file included from /usr/include/string.h:535,
                 from /usr/include/c++/11/cstring:42,
                 from /home/gpuot/ferret/emp-tool/emp-tool/utils/block.h:19,
                 from /home/gpuot/ferret/emp-tool/emp-tool/io/io_channel.h:3,
                 from /home/gpuot/ferret/emp-tool/emp-tool/io/file_io_channel.h:5,
                 from /home/gpuot/ferret/emp-tool/emp-tool/emp-tool.h:2,
                 from /home/gpuot/ferret/emp-tool/test/prg.cpp:1:
In function â€˜void* memcpy(void*, const void*, size_t)â€™,
    inlined from â€˜void emp::PRG::random_data_unaligned(void*, int)â€™ at /home/gpuot/ferret/emp-tool/emp-tool/utils/prg.h:85:10,
    inlined from â€˜int main()â€™ at /home/gpuot/ferret/emp-tool/test/prg.cpp:36:27:
/usr/include/x86_64-linux-gnu/bits/string_fortified.h:29:33: warning: â€˜void* __builtin_memcpy(void*, const void*, long unsigned int)â€™ forming offset [32, 395] is out of the bounds [0, 32] of object â€˜tmpâ€™ with type â€˜emp::block [2]â€™ {aka â€˜__m128i [2]â€™} [-Warray-bounds]
   29 |   return __builtin___memcpy_chk (__dest, __src, __len,
      |          ~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
   30 |                                  __glibc_objsize0 (__dest));
      |                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/gpuot/ferret/emp-tool/emp-tool/io/io_channel.h:4,
                 from /home/gpuot/ferret/emp-tool/emp-tool/io/file_io_channel.h:5,
                 from /home/gpuot/ferret/emp-tool/emp-tool/emp-tool.h:2,
                 from /home/gpuot/ferret/emp-tool/test/prg.cpp:1:
/home/gpuot/ferret/emp-tool/emp-tool/utils/prg.h: In function â€˜int main()â€™:
/home/gpuot/ferret/emp-tool/emp-tool/utils/prg.h:83:31: note: â€˜tmpâ€™ declared here
   83 |                         block tmp[2];
      |                               ^~~
[0m[91mIn file included from /usr/include/string.h:535,
                 from /usr/include/c++/11/cstring:42,
                 from /home/gpuot/ferret/emp-tool/emp-tool/utils/block.h:19,
                 from /home/gpuot/ferret/emp-tool/emp-tool/io/io_channel.h:3,
                 from /home/gpuot/ferret/emp-tool/emp-tool/io/file_io_channel.h:5,
                 from /home/gpuot/ferret/emp-tool/emp-tool/emp-tool.h:2,
                 from /home/gpuot/ferret/emp-tool/test/netio.cpp:1:
In function â€˜void* memcpy(void*, const void*, size_t)â€™,
    inlined from â€˜void emp::RecverSubChannel::recv_data(void*, int)â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/highspeed_net_io_channel.h:94:10,
    inlined from â€˜void emp::HighSpeedNetIO::recv_data_internal(void*, int)â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/highspeed_net_io_channel.h:247:22,
    inlined from â€˜void emp::IOChannel<T>::recv_data(void*, size_t) [with T = emp::HighSpeedNetIO]â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/io_channel.h:19:31,
    inlined from â€˜void emp::IOChannel<T>::recv_bool_aligned(bool*, size_t) [with T = emp::HighSpeedNetIO]â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/io_channel.h:110:13,
    inlined from â€˜void emp::IOChannel<T>::recv_bool(bool*, size_t) [with T = emp::HighSpeedNetIO]â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/io_channel.h:75:21,
    inlined from â€˜void test(T*) [with T = emp::HighSpeedNetIO]â€™ at /home/gpuot/ferret/emp-tool/test/netio.cpp:39:16:
/usr/include/x86_64-linux-gnu/bits/string_fortified.h:29:33: warning: â€˜void* __builtin___memcpy_chk(void*, const void*, long unsigned int, long unsigned int)â€™ specified size between 18446744071562100737 and 18446744073709551615 exceeds maximum object size 9223372036854775807 [-Wstringop-overflow=]
   29 |   return __builtin___memcpy_chk (__dest, __src, __len,
      |          ~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
   30 |                                  __glibc_objsize0 (__dest));
      |                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~
[0m[91mIn function â€˜void* memcpy(void*, const void*, size_t)â€™,
    inlined from â€˜void emp::RecverSubChannel::recv_data(void*, int)â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/highspeed_net_io_channel.h:94:10,
    inlined from â€˜void emp::HighSpeedNetIO::recv_data_internal(void*, int)â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/highspeed_net_io_channel.h:247:22,
    inlined from â€˜void emp::IOChannel<T>::recv_data(void*, size_t) [with T = emp::HighSpeedNetIO]â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/io_channel.h:19:31,
    inlined from â€˜void emp::IOChannel<T>::recv_bool_aligned(bool*, size_t) [with T = emp::HighSpeedNetIO]â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/io_channel.h:110:13,
    inlined from â€˜void emp::IOChannel<T>::recv_bool(bool*, size_t) [with T = emp::HighSpeedNetIO]â€™ at /home/gpuot/ferret/emp-tool/emp-tool/io/io_channel.h:75:21,
    inlined from â€˜void test(T*) [with T = emp::HighSpeedNetIO]â€™ at /home/gpuot/ferret/emp-tool/test/netio.cpp:42:16:
/usr/include/x86_64-linux-gnu/bits/string_fortified.h:29:33: warning: â€˜void* __builtin___memcpy_chk(void*, const void*, long unsigned int, long unsigned int)â€™ specified size between 18446744071562100737 and 18446744073709551615 exceeds maximum object size 9223372036854775807 [-Wstringop-overflow=]
   29 |   return __builtin___memcpy_chk (__dest, __src, __len,
      |          ~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
   30 |                                  __glibc_objsize0 (__dest));
      |                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~
[0m[ 53%] Linking CXX executable ../bin/test_prg
[ 53%] Built target test_prg
[ 55%] Linking CXX executable ../bin/test_netio
[ 57%] Building CXX object test/CMakeFiles/test_ecc.dir/ecc.cpp.o
[ 57%] Built target test_netio
[ 59%] Building CXX object test/CMakeFiles/test_int.dir/int.cpp.o
[ 61%] Linking CXX executable ../bin/test_netio2
[ 61%] Built target test_netio2
[ 63%] Building CXX object test/CMakeFiles/test_float.dir/float.cpp.o
[ 65%] Linking CXX executable ../bin/test_ecc
[ 65%] Built target test_ecc
[ 67%] Building CXX object test/CMakeFiles/test_garble.dir/garble.cpp.o
[ 69%] Linking CXX executable ../bin/test_bit
[ 69%] Built target test_bit
[ 71%] Building CXX object test/CMakeFiles/test_gen_circuit.dir/gen_circuit.cpp.o
[ 73%] Linking CXX executable ../bin/test_int
[ 75%] Linking CXX executable ../bin/test_garble
[ 75%] Built target test_int
[ 75%] Built target test_garble
[ 77%] Building CXX object test/CMakeFiles/test_mitccrh.dir/mitccrh.cpp.o
[ 79%] Building CXX object test/CMakeFiles/test_f2k.dir/f2k.cpp.o
[ 81%] Linking CXX executable ../bin/test_float
[ 81%] Built target test_float
[ 83%] Building CXX object test/CMakeFiles/test_halfgate.dir/halfgate.cpp.o
[ 85%] Linking CXX executable ../bin/test_gen_circuit
[ 85%] Built target test_gen_circuit
[ 87%] Building CXX object test/CMakeFiles/test_to_bool.dir/to_bool.cpp.o
[ 89%] Linking CXX executable ../bin/test_f2k
[ 89%] Built target test_f2k
[ 91%] Building CXX object test/CMakeFiles/test_aes_opt.dir/aes_opt.cpp.o
[ 93%] Linking CXX executable ../bin/test_mitccrh
[ 93%] Built target test_mitccrh
[ 95%] Linking CXX executable ../bin/test_halfgate
[ 95%] Built target test_halfgate
[ 97%] Linking CXX executable ../bin/test_to_bool
[ 97%] Built target test_to_bool
[100%] Linking CXX executable ../bin/test_aes_opt
[100%] Built target test_aes_opt
Consolidate compiler generated dependencies of target emp-tool
[ 34%] Built target emp-tool
Consolidate compiler generated dependencies of target test_prg
[ 38%] Built target test_prg
Consolidate compiler generated dependencies of target test_hash
[ 42%] Built target test_hash
Consolidate compiler generated dependencies of target test_prp
[ 46%] Built target test_prp
Consolidate compiler generated dependencies of target test_netio
[ 51%] Built target test_netio
Consolidate compiler generated dependencies of target test_netio2
[ 55%] Built target test_netio2
Consolidate compiler generated dependencies of target test_bit
[ 59%] Built target test_bit
Consolidate compiler generated dependencies of target test_ecc
[ 63%] Built target test_ecc
Consolidate compiler generated dependencies of target test_int
[ 67%] Built target test_int
Consolidate compiler generated dependencies of target test_float
[ 71%] Built target test_float
Consolidate compiler generated dependencies of target test_garble
[ 75%] Built target test_garble
Consolidate compiler generated dependencies of target test_gen_circuit
[ 79%] Built target test_gen_circuit
Consolidate compiler generated dependencies of target test_mitccrh
[ 83%] Built target test_mitccrh
Consolidate compiler generated dependencies of target test_f2k
[ 87%] Built target test_f2k
Consolidate compiler generated dependencies of target test_halfgate
[ 91%] Built target test_halfgate
Consolidate compiler generated dependencies of target test_to_bool
[ 95%] Built target test_to_bool
Consolidate compiler generated dependencies of target test_aes_opt
[100%] Built target test_aes_opt
Install the project...
-- Install configuration: "Release"
-- Installing: /home/gpuot/ferret/lib/include//emp-tool
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/group.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/constants.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/tccrh.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/sse2neon.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/hash.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/aes.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/prg.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/aes_opt.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/ThreadPool.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/crh.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/group_openssl.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/block.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/utils.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/utils.hpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/mitccrh.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/ccrh.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/prp.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/utils/f2k.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/io
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/io/io_channel.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/io/highspeed_net_io_channel.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/io/file_io_channel.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/io/net_io_channel.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/io/mem_io_channel.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/emp-tool.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/execution
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/execution/plain_prot.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/execution/circuit_execution.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/execution/plain_circ.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/execution/protocol_execution.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_sub.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_eq.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/swappable.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/integer.hpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_add.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_exp2.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/number.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_sin.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/sha3_256.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_cos.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/circuit_file.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_log2.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_exp.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_div.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_fashion
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_fashion/aes_128.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_fashion/Keccak_f.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_fashion/sha512.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_fashion/aes_256.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_fashion/sha256.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_fashion/aes_192.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_format
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_format/sha-256-big.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_format/sha-1.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_format/AES-non-expanded.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_format/sha-256.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/files/bristol_format/adder_32bit.txt
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_le.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_mul.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/integer.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32.hpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/bit.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_sq.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_ln.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/comparable.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_sqrt.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/bit.hpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/float32_leq.cpp
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/circuits/aes_128_ctr.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/emp-tool.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/gc
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/gc/privacy_free_gen.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/gc/halfgate_eva.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/gc/privacy_free_eva.h
-- Installing: /home/gpuot/ferret/lib/include//emp-tool/gc/halfgate_gen.h
-- Up-to-date: /home/gpuot/ferret/lib/cmake/
-- Installing: /home/gpuot/ferret/lib/cmake//enable_crypto_circuit.cmake
-- Installing: /home/gpuot/ferret/lib/cmake//enable_rdseed.cmake
-- Installing: /home/gpuot/ferret/lib/cmake//enable_threading.cmake
-- Installing: /home/gpuot/ferret/lib/cmake//emp-base.cmake
-- Installing: /home/gpuot/ferret/lib/cmake//emp-tool-config.cmake
-- Installing: /home/gpuot/ferret/lib/lib/libemp-tool.so
[91mCMake Warning:
  No source or binary directory provided.  Both will be assumed to be the
  same as the current working directory, but note that this warning will
  become a fatal error in future CMake releases.


[0m-- The C compiler identification is GNU 11.4.0
-- The CXX compiler identification is GNU 11.4.0
-- The CUDA compiler identification is NVIDIA 12.3.107
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Detecting CUDA compiler ABI info
-- Detecting CUDA compiler ABI info - done
-- Check for working CUDA compiler: /usr/local/cuda/bin/nvcc - skipped
-- Detecting CUDA compile features
-- Detecting CUDA compile features - done
[91m[34m-- Platform: x86_64[m
[0m-- [34mBuild type: Release[m
-- CXX Flags:  -g -pthread -Wall -funroll-loops -Wno-ignored-attributes -Wno-unused-result -march=native -maes -mrdseed -std=c++11 -O3
-- Performing Test RDSEED_RUN_RESULT
-- Performing Test RDSEED_RUN_RESULT - Success
[91m[32m-- Source of Randomness: rdseed[m
[0m-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found version "3.0.2")  
-- Found emp-tool: /home/gpuot/ferret/lib/include  
-- Configuring done
[91mCMake Warning (dev) in test/CMakeLists.txt:
  Policy CMP0104 is not set: CMAKE_CUDA_ARCHITECTURES now detected for NVCC,
  empty CUDA_ARCHITECTURES not allowed.  Run "cmake --help-policy CMP0104"
  for policy details.  Use the cmake_policy command to set the policy and
  suppress this warning.

  CUDA_ARCHITECTURES is empty for target "test_main".
This warning is for project developers.  Use -Wno-dev to suppress it.

[0m-- Generating done
-- Build files have been written to: /home/gpuot/ferret/emp-ot
[ 33%] Building CXX object test/CMakeFiles/test_main.dir/main.cpp.o
[ 66%] Building CUDA object test/CMakeFiles/test_main.dir/__/emp-ot/ferret/dev_layer.cu.o
[91mIn file included from /home/gpuot/ferret/emp-ot/emp-ot/emp-ot.h:7,
                 from /home/gpuot/ferret/emp-ot/test/main.cpp:1:
/home/gpuot/ferret/emp-ot/emp-ot/ferret/roles.h: In instantiation of â€˜void FerretOT<T>::rcot_init(Mat&) [with T = emp::NetIO]â€™:
/home/gpuot/ferret/emp-ot/test/main.cpp:23:25:   required from here
/home/gpuot/ferret/emp-ot/emp-ot/ferret/roles.h:100:12: warning: comparison of integer expressions of different signedness: â€˜int64_tâ€™ {aka â€˜long intâ€™} and â€˜uint64_tâ€™ {aka â€˜long unsigned intâ€™} [-Wsign-compare]
  100 |     if(num <= silent_ot_left()) {
      |        ~~~~^~~~~~~~~~~~~~~~~~~
[0m[91mIn file included from /home/gpuot/ferret/emp-ot/emp-ot/ferret/roles.h:6,
                 from /home/gpuot/ferret/emp-ot/emp-ot/emp-ot.h:7,
                 from /home/gpuot/ferret/emp-ot/test/main.cpp:1:
/home/gpuot/ferret/emp-ot/emp-ot/ferret/lpnf2.h: In instantiation of â€˜LpnF2<IO>::LpnF2(Role, uint64_t, uint64_t, IO*) [with IO = emp::NetIO; uint64_t = long unsigned int]â€™:
/home/gpuot/ferret/emp-ot/test/../emp-ot/ferret/sender.h:91:16:   required from â€˜void FerretOTSender<T>::setup(std::string*) [with T = emp::NetIO; std::string = std::__cxx11::basic_string<char>]â€™
/home/gpuot/ferret/emp-ot/test/../emp-ot/ferret/sender.h:41:7:   required from â€˜FerretOTSender<T>::FerretOTSender(FerretConfig) [with T = emp::NetIO]â€™
/home/gpuot/ferret/emp-ot/test/main.cpp:17:53:   required from here
/home/gpuot/ferret/emp-ot/emp-ot/ferret/lpnf2.h:28:16: warning: comparison of integer expressions of different signedness: â€˜intâ€™ and â€˜uint64_tâ€™ {aka â€˜long unsigned intâ€™} [-Wsign-compare]
   28 |     while(mask < k) {
      |           ~~~~~^~~
[0m[91m/home/gpuot/ferret/emp-ot/emp-ot/ferret/lpnf2.h: In instantiation of â€˜void LpnF2<IO>::encode(Span&, Span&) [with IO = emp::NetIO]â€™:
/home/gpuot/ferret/emp-ot/emp-ot/ferret/roles.h:176:16:   required from â€˜void FerretOT<T>::primal_lpn(Span&, int, LpnF2<T>*, Mat&) [with T = emp::NetIO]â€™
/home/gpuot/ferret/emp-ot/emp-ot/ferret/roles.h:121:15:   required from â€˜void FerretOT<T>::primal_lpn(Span&) [with T = emp::NetIO]â€™
/home/gpuot/ferret/emp-ot/test/main.cpp:73:25:   required from here
/home/gpuot/ferret/emp-ot/emp-ot/ferret/lpnf2.h:39:9: warning: unused variable â€˜n_0â€™ [-Wunused-variable]
   39 |     int n_0 = nn.size();
      |         ^~~
/home/gpuot/ferret/emp-ot/emp-ot/ferret/lpnf2.h:40:9: warning: unused variable â€˜k_0â€™ [-Wunused-variable]
   40 |     int k_0 = kk.size();
      |         ^~~
[0m[91m/home/gpuot/ferret/emp-ot/test/main.cpp: In function â€˜int main(int, char**)â€™:
/home/gpuot/ferret/emp-ot/test/main.cpp:98:8: warning: â€˜roleâ€™ may be used uninitialized in this function [-Wmaybe-uninitialized]
   98 |   Role role;
      |        ^~~~
[0m[100%] Linking CXX executable ../bin/test_main
[100%] Built target test_main
Consolidate compiler generated dependencies of target test_main
[100%] Built target test_main
Install the project...
-- Install configuration: "Release"
-- Installing: /home/gpuot/ferret/lib/cmake/emp-ot-config.cmake
-- Installing: /home/gpuot/ferret/lib/include//emp-ot
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/cot.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/emp-ot.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/roles.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/dev_layer.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/dev_layer.cu
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/base_cot.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/sbox_E.cuh
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/mpcot_reg.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/sender.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/spcot_sender.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/preot.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/lpnf2.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/recver.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/spcot_recver.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ferret/twokeyprp.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/iknp.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/co.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ideal.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/np.h
-- Installing: /home/gpuot/ferret/lib/include//emp-ot/ot.h

if [ ! -d "emp-tool" ]; then
    git clone https://github.com/emp-toolkit/emp-tool.git --branch master
fi
cd emp-tool
cmake -DCMAKE_INSTALL_PREFIX=../lib     -DCMAKE_C_FLAGS='-g'     -DCMAKE_CUDA_FLAGS='-g -G'

make -j4
make install
cd ..


if [ ! -d "emp-ot" ]; then
    git clone https://github.com/emp-toolkit/emp-ot.git --branch master
fi
cd emp-ot
cmake -DCMAKE_INSTALL_PREFIX=../lib     -DCMAKE_C_FLAGS='-g'     -DCMAKE_CUDA_FLAGS='-g -G'

make -j4
make install
cd ..

 ---> Removed intermediate container b3b56a3a638b
 ---> 0e1d5fbb7069
Step 12/13 : RUN chmod +x ferret.sh
 ---> Running in 9d5ccff452ae
 ---> Removed intermediate container 9d5ccff452ae
 ---> 487064ea7777
Step 13/13 : CMD ["./ferret.sh"]
 ---> Running in fe79b7a24ff9
 ---> Removed intermediate container fe79b7a24ff9
 ---> c14db15f1f52
Successfully built c14db15f1f52
Successfully tagged gpuot:latest

==========
== CUDA ==
==========

CUDA Version 12.3.2

Container image Copyright (c) 2016-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.

This container image and its contents are governed by the NVIDIA Deep Learning Container License.
By pulling and using the container, you accept the terms and conditions of this license:
https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license

A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.

/home/gpuot/ferret/ferret.sh: line 6: ./ot: No such file or directory
